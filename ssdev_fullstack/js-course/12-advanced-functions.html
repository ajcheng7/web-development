<!DOCTYPE html>
<html>
    <head>
        <title>Advanced Functions</title>
    </head>
    <body>
        <button onclick="" class="js-button">Click</button>
        <script>
            // instead of onclick we can use addEventListener
            const buttonElement = document.querySelector('.js-button');
            const eventListener = ()=>{
                console.log('click');
            }
            buttonElement.addEventListener('click', eventListener);

            // we can also remove event listeners 
            buttonElement.removeEventListener('click', eventListener);
            // we can add multiple listeners to one event 
            buttonElement.addEventListener('click', ()=>{
                console.log('click2');
            });


            // allows for hoisting 
            // can call function before it is created in the code 
            greeting();

            function greeting() {
                console.log("hello");
            }

            greeting();

            const num = 2;

            // functions are also values 
            // we don't need the name bc can reference with variable
            // creates an anonymous function 
            const function1 = function() {
                console.log('hello2');
            }

            console.log(function1);
            console.log(typeof function1);

            // call function w variable 
            function1();

            const object1 = {
                num: 2,
                // function saved inside object = method
                fun: function() {
                    console.log('hello3');
                }
            }

            object1.fun();

            // we can pass functions into functions 
            // function we pass in = callback function 
            function run(param) {
                param();
            }

            run(function() {
                console.log('hello4');
            });

            // setTimeout() allows us to call functions in the future 
            // takes a function and an amount of time to wait 
            // async code: computer doesn't wait for this to finish, continues running
            setTimeout(function() {
                console.log('timeout');
            }, 3000);


            console.log('next line');

            // also runs function in the future, but runs func every 3 seconds
            // also async
            // setInterval(function() {
            //     console.log('interval');
            // }, 3000);

            // another way to loop through arrays 
            [
                'make dinner',
                'wash dishes',
                'watch movie'
            ].forEach((value, index) => {
                // replicate continue
                // if need break, use a regular for loop
                // passing functions in = prefer arrow funcs for readability
                if (value === 'wash dishes') {
                    return;
                }
                console.log(value);
                console.log(index);
            });

            // arrow functions
            const regularFunction = function() {
                console.log('hello from regular func');
            }

            regularFunction();

            const arrowFunction = (param, param2) => {
                console.log('hello');
            }
            arrowFunction();

            // arrow funcs have a few shortcuts 

            const oneParam = param => {
                console.log(param + 1);
            };
            oneParam(2);

            // one line arrow functions
            const oneLine = () => 2 + 3;
            console.log(oneLine());

            const object2 = {
                method1: () => {

                }, 
                // shorthand method 
                method() {

                }
            };

            // array methods
            
            // 1. filter: creates new array, 
            // includes value if it returns true in func

            console.log([1,-3,5].filter((value, index) => {
                return value >=0; 
            }));

            // 2. map: 
            console.log([1,1,3].map((value, index) => {
                return value * 2;
            }));

            // arrow func 
            console.log([1,1,3].map(value => value * 2));

            // closure --> if a func has access to a value, it will always have access
        </script>
    </body>
</html>